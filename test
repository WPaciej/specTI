#include <iostream>
#include "macierz.h"

int main(int argc, char* argv[]) {
    // Wyswietlanie wszystkich argumentow wywolania
    std::cout << "Argumenty wywolania:" << std::endl;
    for (int i = 0; i < argc; ++i) {
        std::cout << "Argument " << i << ": " << argv[i] << std::endl;
    }

    // Sprawdzenie poprawnosci liczby argumentow
    if (argc != 4) {
        std::cerr << "Uzycie: program.exe MacierzA.txt MacierzB.txt wyniki.txt" << std::endl;
        return 1;
    }

    try {
        // Wczytywanie macierzy z plikow
        Macierz macierzA = wczytajMacierz(argv[1]);
        Macierz macierzB = wczytajMacierz(argv[2]);

        // Dodawanie macierzy
        Macierz wynik = dodajMacierze(macierzA, macierzB);

        // Zapis wyniku do pliku
        zapiszMacierz(wynik, argv[3]);

        std::cout << "Wynik zapisany do pliku: " << argv[3] << std::endl;
    } catch (const std::exception& e) {
        std::cerr << "Blad: " << e.what() << std::endl;
        return 1;
    }

    return 0;
}
