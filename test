#include <iostream>
#include "macierz.h"

int main(int argc, char* argv[]) {
    if (argc != 2) {
        std::cerr << "Uzycie: program.exe MacierzA.txt" << std::endl;
        return 1;
    }

    // Wczytywanie macierzy z pliku
    Macierz macierz = wczytajMacierz(argv[1]);

    // Sprawdzamy, czy macierz została poprawnie wczytana (czy jest niepusta)
    if (macierz.empty()) {
        std::cerr << "Blad: nie udalo sie wczytac macierzy z pliku " << argv[1] << std::endl;
        return 1; // Zwrócenie kodu błędu
    }

    // Wypisanie wymiarow macierzy
    auto wymiary = wymiaryMacierzy(macierz);
    std::cout << "Wymiary macierzy: " << wymiary.first << " x " << wymiary.second << std::endl;

    // Suma wszystkich elementow
    int suma = sumaElementow(macierz);
    std::cout << "Suma wszystkich elementow: " << suma << std::endl;

    // Srednia wszystkich elementow
    double srednia = sredniaElementow(macierz);
    std::cout << "Srednia wartosc elementow: " << srednia << std::endl;

    // Suma elementow na przekatnej glownej
    int sumaPrzekatnejGlownej = sumaPrzekatnej(macierz, true);
    std::cout << "Suma elementow na przekatnej glownej: " << sumaPrzekatnejGlownej << std::endl;

    // Suma elementow na przekatnej bocznej
    int sumaPrzekatnejBocznej = sumaPrzekatnej(macierz, false);
    std::cout << "Suma elementow na przekatnej bocznej: " << sumaPrzekatnejBocznej << std::endl;

    // Sprawdzenie czy macierz jest zerowa
    bool jestZerowa = czyMacierzZerowa(macierz);
    std::cout << "Czy macierz jest zerowa? " << (jestZerowa ? "Tak" : "Nie") << std::endl;
    
    return 0;
}
